{% extends "admin_dashboard/base.html" %}
{% block content %}

{% if messages %}
    <div class="alert-container">
        {% for message in messages %}
            <div class="alert {% if message.tags == 'success' %}alert-success{% else %}alert-danger{% endif %} alert-dismissible fade show" role="alert">
                {{ message }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        {% endfor %}
    </div>
{% endif %}


    <h2 class="page-title">Manage Units</h2>
    
    <a href="{% url 'add_unit' %}" class="btn btn-success mb-3">Add Unit</a>

    <div class="table-container">
        <table class="table">
            <tr>
                <th>Name</th>
                <th>City</th>
                <th>Actions</th>
            </tr>
            {% for unit in units %}
            <tr>
                <td><a href="{% url 'unit_detail' unit.id %}">{{ unit.name }}</a></td>
                <td>{{ unit.city }}</td>
                <td>
                    <a href="{% url 'edit_unit' unit.id %}" class="btn btn-warning">Edit</a>
                    <a href="{% url 'delete_unit' unit.id %}" class="btn btn-danger btn-delete">Delete</a>
                </td>
            </tr>
            {% endfor %}
        </table>
    </div>
{% endblock %}
